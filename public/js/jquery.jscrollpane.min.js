!function(e,t,o){e.fn.jScrollPane=function(n){function i(n,i){function s(i){var O,ne,ie,se,re,ae,le,pe,de,ue,he,fe,je,ge,ve=!1,me=!1;if(y=i,C===o)re=n.scrollTop(),ae=n.scrollLeft(),n.css({overflow:"hidden",padding:0}),T=n.innerWidth()+ee,B=n.innerHeight(),n.width(T),C=e('<div class="jspPane" />').css("padding",_).append(n.children()),D=e('<div class="jspContainer" />').css({width:T+"px",height:B+"px"}).append(C).appendTo(n);else{if(n.css("width",""),ve=y.stickToBottom&&((pe=H-B)>20&&pe-w()<10),me=y.stickToRight&&((le=x-T)>20&&le-b()<10),(se=n.innerWidth()+ee!=T||n.outerHeight()!=B)&&(T=n.innerWidth()+ee,B=n.innerHeight(),D.css({width:T+"px",height:B+"px"})),!se&&te==x&&C.outerHeight()==H)return void n.width(T);te=x,C.css("width",""),n.width(T),D.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}C.css("overflow","auto"),x=i.contentWidth?i.contentWidth:C[0].scrollWidth,H=C[0].scrollHeight,C.css("overflow",""),A=(P=H/B)>1,(W=(S=x/T)>1)||A?(n.addClass("jspScrollable"),(O=y.maintainPosition&&(M||I))&&(ne=b(),ie=w()),A&&(D.append(e('<div class="jspVerticalBar" />').append(e('<div class="jspCap jspCapTop" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragTop" />'),e('<div class="jspDragBottom" />'))),e('<div class="jspCap jspCapBottom" />'))),F=D.find(">.jspVerticalBar"),L=F.find(">.jspTrack"),Y=L.find(">.jspDrag"),y.showArrows&&(N=e('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",l(0,-1)).bind("click.jsp",k),q=e('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",l(0,1)).bind("click.jsp",k),y.arrowScrollOnHover&&(N.bind("mouseover.jsp",l(0,-1,N)),q.bind("mouseover.jsp",l(0,1,q))),c(L,y.verticalArrowPositions,N,q)),V=B,D.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){V-=e(this).outerHeight()}),Y.hover(function(){Y.addClass("jspHover")},function(){Y.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",k),Y.addClass("jspActive");var o=t.pageY-Y.position().top;return e("html").bind("mousemove.jsp",function(e){u(e.pageY-o,!1)}).bind("mouseup.jsp mouseleave.jsp",d),!1}),r()),W&&(D.append(e('<div class="jspHorizontalBar" />').append(e('<div class="jspCap jspCapLeft" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragLeft" />'),e('<div class="jspDragRight" />'))),e('<div class="jspCap jspCapRight" />'))),E=D.find(">.jspHorizontalBar"),K=E.find(">.jspTrack"),X=K.find(">.jspDrag"),y.showArrows&&($=e('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",l(-1,0)).bind("click.jsp",k),J=e('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",l(1,0)).bind("click.jsp",k),y.arrowScrollOnHover&&($.bind("mouseover.jsp",l(-1,0,$)),J.bind("mouseover.jsp",l(1,0,J))),c(K,y.horizontalArrowPositions,$,J)),X.hover(function(){X.addClass("jspHover")},function(){X.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",k),X.addClass("jspActive");var o=t.pageX-X.position().left;return e("html").bind("mousemove.jsp",function(e){f(e.pageX-o,!1)}).bind("mouseup.jsp mouseleave.jsp",d),!1}),Q=D.innerWidth(),a()),function(){if(W&&A){var t=K.outerHeight(),o=L.outerWidth();V-=t,e(E).find(">.jspCap:visible,>.jspArrow").each(function(){Q+=e(this).outerWidth()}),Q-=o,B-=o,T-=t,K.parent().append(e('<div class="jspCorner" />').css("width",t+"px")),r(),a()}W&&C.width(D.outerWidth()-ee+"px"),H=C.outerHeight(),P=H/B,W&&((U=Math.ceil(1/S*Q))>y.horizontalDragMaxWidth?U=y.horizontalDragMaxWidth:U<y.horizontalDragMinWidth&&(U=y.horizontalDragMinWidth),X.width(U+"px"),R=Q-U,j(I)),A&&((G=Math.ceil(1/P*V))>y.verticalDragMaxHeight?G=y.verticalDragMaxHeight:G<y.verticalDragMinHeight&&(G=y.verticalDragMinHeight),Y.height(G+"px"),z=V-G,h(M))}(),O&&(v(me?x-T:ne,!1),g(ve?H-B:ie,!1)),C.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(e){m(e.target,!1)}),D.unbind(ce).bind(ce,function(e,t,o,n){var i=I,s=M,r=e.deltaFactor||y.mouseWheelSpeed;return oe.scrollBy(o*r,-n*r,!1),i==I&&s==M}),ge=!1,D.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(e){var t=e.originalEvent.touches[0];de=b(),ue=w(),he=t.pageX,fe=t.pageY,je=!1,ge=!0}).bind("touchmove.jsp",function(e){if(ge){var t=e.originalEvent.touches[0],o=I,n=M;return oe.scrollTo(de+he-t.pageX,ue+fe-t.pageY),je=je||Math.abs(he-t.pageX)>5||Math.abs(fe-t.pageY)>5,o==I&&n==M}}).bind("touchend.jsp",function(){ge=!1}).bind("click.jsp-touchclick",function(){return je?(je=!1,!1):void 0}),y.enableKeyboardNavigation&&function(){function t(){var e=I,t=M;switch(o){case 40:oe.scrollByY(y.keyboardSpeed,!1);break;case 38:oe.scrollByY(-y.keyboardSpeed,!1);break;case 34:case 32:oe.scrollByY(B*y.scrollPagePercent,!1);break;case 33:oe.scrollByY(-B*y.scrollPagePercent,!1);break;case 39:oe.scrollByX(y.keyboardSpeed,!1);break;case 37:oe.scrollByX(-y.keyboardSpeed,!1)}return i=e!=I||t!=M}var o,i,s=[];W&&s.push(E[0]),A&&s.push(F[0]),C.focus(function(){n.focus()}),n.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(n){if(n.target===this||s.length&&e(n.target).closest(s).length){var r=I,a=M;switch(n.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:o=n.keyCode,t();break;case 35:g(H-B),o=null;break;case 36:g(0),o=null}return!(i=n.keyCode==o&&r!=I||a!=M)}}).bind("keypress.jsp",function(e){return e.keyCode==o&&t(),!i}),y.hideFocus?(n.css("outline","none"),"hideFocus"in D[0]&&n.attr("hideFocus",!0)):(n.css("outline",""),"hideFocus"in D[0]&&n.attr("hideFocus",!1))}(),y.clickOnTrack&&(p(),A&&L.bind("mousedown.jsp",function(t){if(t.originalTarget===o||t.originalTarget==t.currentTarget){var n,i=e(this),s=i.offset(),r=t.pageY-s.top-M,a=!0,c=function(){var e=i.offset(),o=t.pageY-e.top-G/2,s=B*y.scrollPagePercent,p=z*s/(H-B);if(0>r)M-p>o?oe.scrollByY(-s):u(o);else{if(!(r>0))return void l();o>M+p?oe.scrollByY(s):u(o)}n=setTimeout(c,a?y.initialDelay:y.trackClickRepeatFreq),a=!1},l=function(){n&&clearTimeout(n),n=null,e(document).unbind("mouseup.jsp",l)};return c(),e(document).bind("mouseup.jsp",l),!1}}),W&&K.bind("mousedown.jsp",function(t){if(t.originalTarget===o||t.originalTarget==t.currentTarget){var n,i=e(this),s=i.offset(),r=t.pageX-s.left-I,a=!0,c=function(){var e=i.offset(),o=t.pageX-e.left-U/2,s=T*y.scrollPagePercent,p=R*s/(x-T);if(0>r)I-p>o?oe.scrollByX(-s):f(o);else{if(!(r>0))return void l();o>I+p?oe.scrollByX(s):f(o)}n=setTimeout(c,a?y.initialDelay:y.trackClickRepeatFreq),a=!1},l=function(){n&&clearTimeout(n),n=null,e(document).unbind("mouseup.jsp",l)};return c(),e(document).bind("mouseup.jsp",l),!1}})),function(){if(location.hash&&location.hash.length>1){var t,o,n=escape(location.hash.substr(1));try{t=e("#"+n+', a[name="'+n+'"]')}catch(e){return}t.length&&C.find(n)&&(0===D.scrollTop()?o=setInterval(function(){D.scrollTop()>0&&(m(t,!0),e(document).scrollTop(D.position().top),clearInterval(o))},50):(m(t,!0),e(document).scrollTop(D.position().top)))}}(),y.hijackInternalLinks&&(e(document.body).data("jspHijack")||(e(document.body).data("jspHijack",!0),e(document.body).delegate("a[href*=#]","click",function(o){var n,i,s,r,a,c=this.href.substr(0,this.href.indexOf("#")),l=location.href;if(-1!==location.href.indexOf("#")&&(l=location.href.substr(0,location.href.indexOf("#"))),c===l){n=escape(this.href.substr(this.href.indexOf("#")+1));try{i=e("#"+n+', a[name="'+n+'"]')}catch(e){return}i.length&&((s=i.closest(".jspScrollable")).data("jsp").scrollToElement(i,!0),s[0].scrollIntoView&&(r=e(t).scrollTop(),a=i.offset().top,(r>a||a>r+e(t).height())&&s[0].scrollIntoView()),o.preventDefault())}})))):(n.removeClass("jspScrollable"),C.css({top:0,left:0,width:D.width()-ee}),D.unbind(ce),C.find(":input,a").unbind("focus.jsp"),n.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp"),p()),y.autoReinitialise&&!Z?Z=setInterval(function(){s(y)},y.autoReinitialiseDelay):!y.autoReinitialise&&Z&&clearInterval(Z),re&&n.scrollTop(0)&&g(re,!1),ae&&n.scrollLeft(0)&&v(ae,!1),n.trigger("jsp-initialised",[W||A])}function r(){L.height(V+"px"),M=0,O=y.verticalGutter+L.outerWidth(),C.width(T-O-ee);try{0===F.position().left&&C.css("margin-left",O+"px")}catch(e){}}function a(){D.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){Q-=e(this).outerWidth()}),K.width(Q+"px"),I=0}function c(e,t,o,n){var i,s="before",r="after";"os"==t&&(t=/Mac/.test(navigator.platform)?"after":"split"),t==s?r=t:t==r&&(s=t,i=o,o=n,n=i),e[s](o)[r](n)}function l(t,o,n){return function(){return function(t,o,n,i){n=e(n).addClass("jspActive");var s,r,a=!0,c=function(){0!==t&&oe.scrollByX(t*y.arrowButtonSpeed),0!==o&&oe.scrollByY(o*y.arrowButtonSpeed),r=setTimeout(c,a?y.initialDelay:y.arrowRepeatFreq),a=!1};c(),s=i?"mouseout.jsp":"mouseup.jsp",(i=i||e("html")).bind(s,function(){n.removeClass("jspActive"),r&&clearTimeout(r),r=null,i.unbind(s)})}(t,o,this,n),this.blur(),!1}}function p(){K&&K.unbind("mousedown.jsp"),L&&L.unbind("mousedown.jsp")}function d(){e("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),Y&&Y.removeClass("jspActive"),X&&X.removeClass("jspActive")}function u(e,t){A&&(0>e?e=0:e>z&&(e=z),t===o&&(t=y.animateScroll),t?oe.animate(Y,"top",e,h):(Y.css("top",e),h(e)))}function h(e){e===o&&(e=Y.position().top),D.scrollTop(0);var t,i,s=0===(M=e),r=M==z,a=-(e/z)*(H-B);(ne!=s||se!=r)&&(ne=s,se=r,n.trigger("jsp-arrow-change",[ne,se,ie,re])),t=s,i=r,y.showArrows&&(N[t?"addClass":"removeClass"]("jspDisabled"),q[i?"addClass":"removeClass"]("jspDisabled")),C.css("top",a),n.trigger("jsp-scroll-y",[-a,s,r]).trigger("scroll")}function f(e,t){W&&(0>e?e=0:e>R&&(e=R),t===o&&(t=y.animateScroll),t?oe.animate(X,"left",e,j):(X.css("left",e),j(e)))}function j(e){e===o&&(e=X.position().left),D.scrollTop(0);var t,i,s=0===(I=e),r=I==R,a=-(e/R)*(x-T);(ie!=s||re!=r)&&(ie=s,re=r,n.trigger("jsp-arrow-change",[ne,se,ie,re])),t=s,i=r,y.showArrows&&($[t?"addClass":"removeClass"]("jspDisabled"),J[i?"addClass":"removeClass"]("jspDisabled")),C.css("left",a),n.trigger("jsp-scroll-x",[-a,s,r]).trigger("scroll")}function g(e,t){u(e/(H-B)*z,t)}function v(e,t){f(e/(x-T)*R,t)}function m(t,o,n){var i,s,r,a,c,l,p,d,u,h=0,f=0;try{i=e(t)}catch(e){return}for(s=i.outerHeight(),r=i.outerWidth(),D.scrollTop(0),D.scrollLeft(0);!i.is(".jspPane");)if(h+=i.position().top,f+=i.position().left,i=i.offsetParent(),/^body|html$/i.test(i[0].nodeName))return;l=(a=w())+B,a>h||o?d=h-y.horizontalGutter:h+s>l&&(d=h-B+s+y.horizontalGutter),isNaN(d)||g(d,n),p=(c=b())+T,c>f||o?u=f-y.horizontalGutter:f+r>p&&(u=f-T+r+y.horizontalGutter),isNaN(u)||v(u,n)}function b(){return-C.position().left}function w(){return-C.position().top}function k(){return!1}var y,C,T,B,D,x,H,S,P,A,W,Y,z,M,X,R,I,F,L,O,V,G,N,q,E,K,Q,U,$,J,Z,_,ee,te,oe=this,ne=!0,ie=!0,se=!1,re=!1,ae=n.clone(!1,!1).empty(),ce=e.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";"border-box"===n.css("box-sizing")?(_=0,ee=0):(_=n.css("paddingTop")+" "+n.css("paddingRight")+" "+n.css("paddingBottom")+" "+n.css("paddingLeft"),ee=(parseInt(n.css("paddingLeft"),10)||0)+(parseInt(n.css("paddingRight"),10)||0)),e.extend(oe,{reinitialise:function(t){s(t=e.extend({},y,t))},scrollToElement:function(e,t,o){m(e,t,o)},scrollTo:function(e,t,o){v(e,o),g(t,o)},scrollToX:function(e,t){v(e,t)},scrollToY:function(e,t){g(e,t)},scrollToPercentX:function(e,t){v(e*(x-T),t)},scrollToPercentY:function(e,t){g(e*(H-B),t)},scrollBy:function(e,t,o){oe.scrollByX(e,o),oe.scrollByY(t,o)},scrollByX:function(e,t){f((b()+Math[0>e?"floor":"ceil"](e))/(x-T)*R,t)},scrollByY:function(e,t){u((w()+Math[0>e?"floor":"ceil"](e))/(H-B)*z,t)},positionDragX:function(e,t){f(e,t)},positionDragY:function(e,t){u(e,t)},animate:function(e,t,o,n){var i={};i[t]=o,e.animate(i,{duration:y.animateDuration,easing:y.animateEase,queue:!1,step:n})},getContentPositionX:function(){return b()},getContentPositionY:function(){return w()},getContentWidth:function(){return x},getContentHeight:function(){return H},getPercentScrolledX:function(){return b()/(x-T)},getPercentScrolledY:function(){return w()/(H-B)},getIsScrollableH:function(){return W},getIsScrollableV:function(){return A},getContentPane:function(){return C},scrollToBottom:function(e){u(z,e)},hijackInternalLinks:e.noop,destroy:function(){var e,t;e=w(),t=b(),n.removeClass("jspScrollable").unbind(".jsp"),n.replaceWith(ae.append(C.children())),ae.scrollTop(e),ae.scrollLeft(t),Z&&clearInterval(Z)}}),s(i)}return n=e.extend({},e.fn.jScrollPane.defaults,n),e.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){n[this]=n[this]||n.speed}),this.each(function(){var t=e(this),o=t.data("jsp");o?o.reinitialise(n):(e("script",t).filter('[type="text/javascript"],:not([type])').remove(),o=new i(t,n),t.data("jsp",o))})},e.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:o,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}}(jQuery,this);